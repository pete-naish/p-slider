"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b,c,d){"use strict";var e="panelSnap",f="plugin_"+e,g={isMouseDown:!1,isSnapping:!1,enabled:!0,scrollOffset:0,init:function(b,d){var e=this;if(e.container=d,e.$container=a(d),e.$eventContainer=e.$container,e.$snapContainer=e.$container,e.$container.is("body")){e.$eventContainer=a(c),e.$snapContainer=a(c.documentElement);var f=navigator.userAgent;~f.indexOf("WebKit")&&(e.$snapContainer=a("body"))}if(e.options=a.extend(!0,{},a.fn.panelSnap.options,b),e.bind(),e.options.$menu!==!1&&a(".active",e.options.$menu).length>0)a(".active",e.options.$menu).click();else{var g=e.getPanel(":first");e.activatePanel(g)}return e},bind:function(){var c=this;c.bindProxied(c.$eventContainer,"scrollstop",c.scrollStop),c.bindProxied(c.$eventContainer,"mousewheel",c.mouseWheel),c.bindProxied(c.$eventContainer,"mousedown",c.mouseDown),c.bindProxied(c.$eventContainer,"mouseup",c.mouseUp),c.bindProxied(a(b),"resizestop",c.resize),c.options.$menu&&c.bindProxied(c.options.$menu,"click",c.captureMenuClick,c.options.menuSelector),(c.options.navigation.keys.nextKey||c.options.navigation.keys.prevKey)&&c.bindProxied(a(b),"keydown",c.keyDown),c.options.navigation.buttons.$nextButton&&c.bindProxied(c.options.navigation.buttons.$nextButton,"click",c.captureNextClick),c.options.navigation.buttons.$prevButton&&c.bindProxied(c.options.navigation.buttons.$prevButton,"click",c.capturePrevClick)},bindProxied:function(b,c,d,e){var f=this;e="string"==typeof e?e:null,b.on(c+f.options.namespace,e,a.proxy(function(a){return d.call(f,a)},f))},destroy:function(){var c=this;c.$eventContainer.off(c.options.namespace),a(b).off(c.options.namespace),c.options.$menu!==!1&&a(c.options.menuSelector,c.options.$menu).off(c.options.namespace),c.$container.removeData(f)},scrollStop:function(a){var b=this;if(a.stopPropagation(),!b.isMouseDown&&!b.isSnapping){var c=b.getPanelsInViewport();if(!b.enabled||c.length<2)return h=c.eq(0),void(h.is(b.getPanel(".active"))||b.activatePanel(h));var g,d=b.$snapContainer.scrollTop(),e=d-b.scrollOffset,f=Math.abs(e)>b.options.directionThreshold;if(e>0)g=f?1:0;else{if(!(0>e))return;g=f?0:1}var h=c.eq(g),i=b.$container[0].scrollHeight-b.scrollInterval;0>=d||d>=i?(b.activatePanel(h),b.scrollOffset=0>=d?0:i):b.snapToPanel(h)}},getPanelsInViewport:function(){var b=this,c={top:b.$snapContainer.scrollTop()};c.bottom=c.top+b.$snapContainer.height();var d=b.getPanel().filter(function(d,e){var g,f=a(e);return b.$container.is("body")?g=f.offset():(g=f.position(),g.top+=b.$snapContainer.scrollTop()),g.bottom=g.top+f.outerHeight(),!(c.bottom<g.top||c.top>g.bottom)});return d},mouseWheel:function(a){var b=this;b.isSnapping&&(b.scrollOffset=b.$snapContainer.scrollTop(),b.$snapContainer.stop(!0),b.isSnapping=!1)},mouseDown:function(a){var b=this;b.isMouseDown=!0},mouseUp:function(a){var b=this;b.isMouseDown=!1,b.scrollOffset!==b.$snapContainer.scrollTop()&&b.scrollStop(a)},keyDown:function(a){var b=this,c=b.options.navigation;if(b.enabled){switch(a.which){case c.keys.prevKey:case c.keys.nextKey:a.preventDefault()}if(!b.isSnapping)switch(a.which){case c.keys.prevKey:b.snapTo("prev",c.wrapAround);break;case c.keys.nextKey:b.snapTo("next",c.wrapAround)}}},captureNextClick:function(a){var b=this;a.preventDefault(),b.isSnapping||b.snapTo("next",b.options.navigation.wrapAround)},capturePrevClick:function(a){var b=this;a.preventDefault(),b.isSnapping||b.snapTo("prev",b.options.navigation.wrapAround)},resize:function(a){var b=this;if(b.enabled){var c=b.getPanel(".active");b.snapToPanel(c)}},captureMenuClick:function(b){var c=this,d=a(b.currentTarget).data("panel"),e=c.getPanel('[data-panel="'+d+'"]');return c.snapToPanel(e),!1},snapToPanel:function(a){var b=this;if(a.jquery){b.isSnapping=!0,b.options.onSnapStart.call(b,a),b.$container.trigger("panelsnap:start",[a]);var c=0;c=b.$container.is("body")?a.offset().top:b.$snapContainer.scrollTop()+a.position().top,c-=b.options.offset,b.$snapContainer.stop(!0).delay(b.options.delay).animate({scrollTop:c},b.options.slideSpeed,b.options.easing,function(){b.scrollOffset=b.$snapContainer.scrollTop(),b.isSnapping=!1,b.options.onSnapFinish.call(b,a),b.$container.trigger("panelsnap:finish",[a]),b.activatePanel(a)})}},activatePanel:function(b){var c=this;if(c.getPanel(".active").removeClass("active"),b.addClass("active"),c.options.$menu!==!1){var d=c.options.menuSelector+".active";a(d,c.options.$menu).removeClass("active");var e='[data-panel="'+b.data("panel")+'"]',f=c.options.menuSelector+e,g=a(f,c.options.$menu);g.addClass("active")}var h=c.options.navigation;if(!h.wrapAround){var i=c.getPanel(),j=i.index(c.getPanel(".active"));h.buttons.$nextButton!==!1&&(b=i.eq(j+1),b.length<1?(a(h.buttons.$nextButton).attr("aria-disabled","true"),a(h.buttons.$nextButton).addClass("disabled")):(a(h.buttons.$nextButton).attr("aria-disabled","false"),a(h.buttons.$nextButton).removeClass("disabled"))),h.buttons.$prevButton!==!1&&(1>j?(a(h.buttons.$prevButton).attr("aria-disabled","true"),a(h.buttons.$prevButton).addClass("disabled")):(a(h.buttons.$prevButton).attr("aria-disabled","false"),a(h.buttons.$prevButton).removeClass("disabled")))}c.options.onActivate.call(c,b),c.$container.trigger("panelsnap:activate",[b])},getPanel:function(b){var c=this;return"undefined"==typeof b&&(b=""),a(c.options.panelSelector+b,c.$container)},snapTo:function(a,b){var c=this;"boolean"!=typeof b&&(b=!0);var f,d=c.getPanel(),e=d.index(c.getPanel(".active"));switch(a){case"prev":f=d.eq(e-1),1>e&&!b&&(f=[]);break;case"next":f=d.eq(e+1),f.length<1&&b&&(f=d.filter(":first"));break;case"first":f=d.filter(":first");break;case"last":f=d.filter(":last")}f.length>0&&c.snapToPanel(f)},enable:function(){var a=this;a.scrollOffset=a.$snapContainer.scrollTop(),a.enabled=!0},disable:function(){var a=this;a.enabled=!1},toggle:function(){var a=this;a.enabled?a.disable():a.enable()}};a.fn[e]=function(b){var c=Array.prototype.slice.call(arguments);return this.each(function(){var d=a.data(this,f);if("object"!=typeof b&&"init"!==b&&b){if(!d)return void a.error("Plugin is not initialized for this object yet.");if(!d[b])return void a.error("Method "+b+" does not exist on jQuery.panelSnap.");var e=b;b=c.slice(1),d[e].apply(d,b)}else{if(d)return void a.error("Plugin is already initialized for this object.");"init"===b&&(b=c[1]||{}),d=Object.create(g).init(b,this),a.data(this,f,d)}})},a.fn[e].options={$menu:!1,menuSelector:"a",panelSelector:"> section",namespace:".panelSnap",onSnapStart:function(){},onSnapFinish:function(){},onActivate:function(){},directionThreshold:50,slideSpeed:200,delay:0,easing:"linear",offset:0,navigation:{keys:{nextKey:!1,prevKey:!1},buttons:{$nextButton:!1,$prevButton:!1},wrapAround:!1}}}(jQuery,window,document),function(a){a.event.special.scrollstart={enabled:!0,setup:function(){function g(a,b){a.type=b?"scrollstart":"scrollstop",c.trigger(a)}var e,f,b=this,c=a(b);c.data("scrollwatch",!0),c.on("touchstart",function(a){f=!0}),c.on("touchleave touchcancel touchend",function(a){f=!1,setTimeout(function(){clearTimeout(e)},50)}),c.on("touchmove scroll",function(b){f||a.event.special.scrollstart.enabled&&(a.event.special.scrollstart.scrolling||(a.event.special.scrollstart.scrolling=!0,g(b,!0)),clearTimeout(e),e=setTimeout(function(){a.event.special.scrollstart.scrolling=!1,g(b,!1)},50))})}},a.event.special.scrollstop={setup:function(){var b=this,c=a(b);c.data("scrollwatch")||a(this).on("scrollstart",function(){})}}}(jQuery),function(a){a.event.special.resizestart={enabled:!0,setup:function(){function f(a,b){a.type=b?"resizestart":"resizestop",c.trigger(a)}var e,b=this,c=a(b);c.data("resizewatch",!0),c.on("resize",function(b){a.event.special.resizestart.enabled&&(a.event.special.resizestart.resizing||(a.event.special.resizestart.resizing=!0,f(b,!0)),clearTimeout(e),e=setTimeout(function(){a.event.special.resizestart.resizing=!1,f(b,!1)},200))})}},a.event.special.resizestop={setup:function(){var b=this,c=a(b);c.data("resizewatch")||a(this).on("resizestart",function(){})}}}(jQuery),function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),void 0!==c.wheelDeltaY&&(h=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery);